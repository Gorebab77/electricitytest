<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì „ê¸°ê³ ë˜ ë‚˜ë¼</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      background: #0044cc;
      color: white;
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    #arrows {
      display: flex;
      gap: 10px;
    }

    #arrows button {
      background: white;
      color: #0044cc;
      border: none;
      padding: 5px 10px;
      font-weight: bold;
      cursor: pointer;
      border-radius: 5px;
    }

    #container {
      flex: 1;
      display: flex;
      overflow: hidden;
    }

    nav {
      width: 300px;
      background: #f2f2f2;
      padding: 20px;
      border-right: 1px solid #ccc;
      overflow-y: auto;
    }

    nav ul {
      list-style: none;
      padding: 0;
    }

    nav li {
      cursor: pointer;
      padding: 10px 0;
      border-bottom: 1px solid #ddd;
    }

    main {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }

    /* ëª¨ë°”ì¼ ëŒ€ì‘ */
    @media (max-width: 768px) {
      #container.menu-open main {
        display: none;
      }
      #container.page-open nav {
        display: none;
      }
    }
  </style>
</head>

<body>
  <header>
    <div>ğŸ“š ì „ê¸°ê³ ë˜ ë‚˜ë¼</div>
    <div id="arrows">
      <button onclick="goBack()">â¬…ï¸ ì´ì „</button>
      <button onclick="goForward()">â¡ï¸ ë‹¤ìŒ</button>
    </div>
  </header>

  <div id="container" class="menu-open">
    <nav>
      <ul>
        <li onclick="loadPage(event, 'Data/1.html')">4.1.1 Data Overflow ì²˜ë¦¬í™•ì¸,Selective access, ê¸°ì–µìš©ëŸ‰ì¡°íšŒì‹œê°„</li>
        <li onclick="loadPage(event, 'Data/2.html')">4.1.2 ê³„ê¸° ì´ˆê¸°í™” ê²€ì‚¬</li>
        <li onclick="loadPage(event, 'Data/3.html')">4.2.1 ê³ ìœ ì •ë³´</li>
        <li onclick="loadPage(event, 'Data/4.html')">4.2.2 ê³„ê¸°ì •ìˆ˜</li>
        <li onclick="loadPage(event, 'Data/5.html')">4.2.3.1 ê²€ì¹¨í•­ëª©</li>
        <li onclick="loadPage(event, 'Data/6.html')">4.2.3.2 ê¸°íƒ€ì„¤ì •í•­ëª©</li>
      </ul>
    </nav>

    <main id="content">
      <h1>ì „ê¸°ê³ ë˜ ë‚˜ë¼ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</h1>
      <p>ì™¼ìª½ ë©”ë‰´ì—ì„œ ì„ íƒí•˜ì„¸ìš”.</p>
    </main>
  </div>

  <script>
    const historyStack = ['home']; // 'home'ì„ ì‹œì‘ì ìœ¼ë¡œ ë“±ë¡
    let historyIndex = 0;

    function loadPage(event, filename) {
      event.stopPropagation(); // ìƒìœ„ í´ë¦­ ë°©ì§€
      fetch(filename)
        .then(response => {
          if (!response.ok) {
            throw new Error('í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
          }
          return response.text();
        })
        .then(html => {
          document.getElementById('content').innerHTML = html;
          if (window.innerWidth <= 768) {
            document.getElementById('container').className = 'page-open';
          }
          historyStack.splice(historyIndex + 1); // ì•ìœ¼ë¡œ ê°€ëŠ” ê¸¸ ì§€ìš°ê¸°
          historyStack.push(filename);
          historyIndex++;
        })
        .catch(error => {
          document.getElementById('content').innerHTML = '<h2>í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</h2>';
        });
    }

    function showPage(filename) {
      if (filename === 'home') {
        document.getElementById('content').innerHTML = `
          <h1>ì „ê¸°ê³ ë˜ ë‚˜ë¼ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</h1>
          <p>ì™¼ìª½ ë©”ë‰´ì—ì„œ ì„ íƒí•˜ì„¸ìš”.</p>`;
        document.getElementById('container').className = 'menu-open';
      } else {
        fetch(filename)
          .then(response => {
            if (!response.ok) {
              throw new Error('í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
            }
            return response.text();
          })
          .then(html => {
            document.getElementById('content').innerHTML = html;
            if (window.innerWidth <= 768) {
              document.getElementById('container').className = 'page-open';
            }
          })
          .catch(error => {
            document.getElementById('content').innerHTML = '<h2>í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</h2>';
          });
      }
    }

    function goBack() {
      historyIndex = 0; // ë¬´ì¡°ê±´ home
      showPage(historyStack[0]);
    }

    function goForward() {
      if (historyIndex < historyStack.length - 1) {
        historyIndex++;
        showPage(historyStack[historyIndex]);
      }
    }
  </script>
</body>
</html>
